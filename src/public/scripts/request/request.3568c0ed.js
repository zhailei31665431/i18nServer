import{a as o}from"../axios/axios.6099e67a.js";import{q as s}from"../element-plus/element-plus.8e9467af.js";const r=o.create();r.interceptors.request.use(t=>{let e=localStorage.getItem("jwttoken")||"";return t.headers.jwttoken=e,t},t=>Promise.reject(t));r.interceptors.response.use(async t=>{const e=t.data;return e.code==0,e},t=>{let e=t.response.data;if(console.log(e,"asd"),e.statusCode==500)return Promise.reject(t);if(e.error.indexOf("Unauthorized")!=-1)s.alert(e.error,e.msg,{confirmButtonText:"OK",callback:a=>{window.location.replace("/#/login")}});else return Promise.reject(t)});export{r};
