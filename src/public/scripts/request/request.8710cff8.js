import{a as o}from"../axios/axios.6099e67a.js";import{p as a}from"../element-plus/element-plus.cf63c89a.js";const r=o.create();r.interceptors.request.use(e=>{let t=localStorage.getItem("jwttoken")||"";return e.headers.jwttoken=t,e},e=>Promise.reject(e));r.interceptors.response.use(async e=>{const t=e.data;return t.code==0,t},e=>{let t=e.response.data;if(t.error.indexOf("Unauthorized")!=-1)a.alert(t.error,t.msg,{confirmButtonText:"OK",callback:s=>{window.location.replace("/#/login")}});else return Promise.reject(e)});export{r};
