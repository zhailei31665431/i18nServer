import{b as g,c as v,E as m}from"../element-plus/element-plus.cf63c89a.js";import{r as f}from"../request/request.bb2bde5b.js";import{I as h,d as a,_ as b,c as w,a as e,X as r,Q as V,o as y,V as k,W as x}from"../@vue/@vue.1f806425.js";import"../lodash-es/lodash-es.b450e6da.js";import"../@vueuse/@vueuse.abd1af5c.js";import"../@element-plus/@element-plus.6ecdeb01.js";import"../@popperjs/@popperjs.17badf2b.js";import"../@ctrl/@ctrl.10aa4426.js";import"../dayjs/dayjs.18cc51e8.js";import"../async-validator/async-validator.100fbf61.js";import"../memoize-one/memoize-one.e03be456.js";import"../escape-html/escape-html.11c602e3.js";import"../normalize-wheel-es/normalize-wheel-es.2d9001a5.js";import"../@floating-ui/@floating-ui.0c5c8158.js";import"../axios/axios.6099e67a.js";import"../form-data/form-data.ccf97ba3.js";const B={class:"login"},E={class:"el-card is-always-shadow"},I={class:"el-card__body"},C={class:"login-c"},N=e("h1",null,"I18n",-1),U={class:"login-i login-username"},F={class:"login-i login-password"},L={class:"login-i login-btn"},R=h({__name:"Login",setup(S){const l=a("admin"),t=a("admin"),s=a(!1),u=a("submit"),n=a(!1),p=()=>{s.value=!0,n.value=!0,u.value="submit",f({url:"/fire/user/login",method:"post",data:{username:l.value,password:t.value}}).then(o=>{console.log(o,"asdasd"),m({message:"\u767B\u5F55\u6210\u529F",grouping:!0,type:"success"}),console.log(o,"asd"),localStorage.setItem("jwttoken",o.data.token),window.location.replace(window.location.origin+"/#/home")}).catch(o=>{m({message:o.message,grouping:!0,type:"error"})}).finally(()=>{s.value=!1,n.value=!1,u.value="submit"})};return b(()=>{console.log(s.value,"asd"),s.value==!1&&(console.log("123"),n.value=!(l.value.length!=0&&t.value.length!=0))}),(o,i)=>{const c=g,_=v;return y(),w("div",B,[e("div",E,[e("div",I,[e("div",C,[N,e("section",null,[e("div",U,[r(c,{modelValue:l.value,"onUpdate:modelValue":i[0]||(i[0]=d=>l.value=d),placeholder:"username"},null,8,["modelValue"])]),e("div",F,[r(c,{modelValue:t.value,"onUpdate:modelValue":i[1]||(i[1]=d=>t.value=d),placeholder:"password",type:"password"},null,8,["modelValue"])]),e("div",L,[r(_,{disabled:n.value,loading:s.value,type:"success",onClick:p},{default:V(()=>[k(x(u.value),1)]),_:1},8,["disabled","loading"])])])])])])])}}});export{R as default};
