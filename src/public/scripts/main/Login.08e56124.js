import{b as g,c as v,E as m}from"../element-plus/element-plus.cf63c89a.js";import{r as f}from"../request/request.8710cff8.js";import{I as h,d as o,_ as b,c as w,a as e,X as d,Q as V,o as y,V as k,W as x}from"../@vue/@vue.1f806425.js";import"../lodash-es/lodash-es.b450e6da.js";import"../@vueuse/@vueuse.abd1af5c.js";import"../@element-plus/@element-plus.6ecdeb01.js";import"../@popperjs/@popperjs.17badf2b.js";import"../@ctrl/@ctrl.10aa4426.js";import"../dayjs/dayjs.18cc51e8.js";import"../async-validator/async-validator.100fbf61.js";import"../memoize-one/memoize-one.e03be456.js";import"../escape-html/escape-html.11c602e3.js";import"../normalize-wheel-es/normalize-wheel-es.2d9001a5.js";import"../@floating-ui/@floating-ui.0c5c8158.js";import"../axios/axios.6099e67a.js";import"../form-data/form-data.ccf97ba3.js";const B={class:"login"},E={class:"el-card is-always-shadow"},I={class:"el-card__body"},C={class:"login-c"},N=e("h1",null,"I18n",-1),U={class:"login-i login-username"},F={class:"login-i login-password"},L={class:"login-i login-btn"},R=h({__name:"Login",setup(S){const s=o("admin"),t=o("admin"),a=o(!1),u=o("submit"),l=o(!1),p=()=>{a.value=!0,l.value=!0,u.value="submit",f({url:"/fire/user/login",method:"post",data:{username:s.value,password:t.value}}).then(n=>{m({message:"\u767B\u5F55\u6210\u529F",grouping:!0,type:"success"}),localStorage.setItem("jwttoken",n.data.token),window.location.replace(window.location.origin+"/#/home")}).catch(n=>{m({message:n.message,grouping:!0,type:"error"})}).finally(()=>{a.value=!1,l.value=!1,u.value="submit"})};return b(()=>{a.value==!1&&(l.value=!(s.value.length!=0&&t.value.length!=0))}),(n,i)=>{const c=g,_=v;return y(),w("div",B,[e("div",E,[e("div",I,[e("div",C,[N,e("section",null,[e("div",U,[d(c,{modelValue:s.value,"onUpdate:modelValue":i[0]||(i[0]=r=>s.value=r),placeholder:"username"},null,8,["modelValue"])]),e("div",F,[d(c,{modelValue:t.value,"onUpdate:modelValue":i[1]||(i[1]=r=>t.value=r),placeholder:"password",type:"password"},null,8,["modelValue"])]),e("div",L,[d(_,{disabled:l.value,loading:a.value,type:"success",onClick:p},{default:V(()=>[k(x(u.value),1)]),_:1},8,["disabled","loading"])])])])])])])}}});export{R as default};
