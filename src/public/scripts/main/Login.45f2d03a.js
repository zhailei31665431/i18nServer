import{r as v}from"../request/request.ef74db12.js";import{E as m}from"../element-plus/element-plus.864c745d.js";import{I as f,d as a,_ as h,c as b,a as e,X as r,Q as w,a4 as p,o as V,V as y,W as k}from"../@vue/@vue.1f806425.js";import"../axios/axios.6099e67a.js";import"../form-data/form-data.ccf97ba3.js";import"../lodash-es/lodash-es.b450e6da.js";import"../@vueuse/@vueuse.abd1af5c.js";import"../@element-plus/@element-plus.6ecdeb01.js";import"../@popperjs/@popperjs.17badf2b.js";import"../@ctrl/@ctrl.10aa4426.js";import"../dayjs/dayjs.18cc51e8.js";import"../async-validator/async-validator.100fbf61.js";import"../memoize-one/memoize-one.e03be456.js";import"../escape-html/escape-html.11c602e3.js";import"../normalize-wheel-es/normalize-wheel-es.2d9001a5.js";import"../@floating-ui/@floating-ui.0c5c8158.js";const x={class:"login"},B={class:"el-card is-always-shadow"},C={class:"el-card__body"},E={class:"login-c"},I=e("h1",null,"I18n",-1),N={class:"login-i login-username"},U={class:"login-i login-password"},F={class:"login-i login-btn"},P=f({__name:"Login",setup(L){const l=a("admin"),t=a("admin"),s=a(!1),u=a("submit"),n=a(!1),_=()=>{s.value=!0,n.value=!0,u.value="submit",v({url:"/fire/user/login",method:"post",data:{username:l.value,password:t.value}}).then(o=>{console.log(o,"asdasd"),m({message:"\u767B\u5F55\u6210\u529F",grouping:!0,type:"success"}),console.log(o,"asd"),localStorage.setItem("jwttoken",o.data.token),window.location.replace(window.location.origin+"/#/home")}).catch(o=>{m({message:o.message,grouping:!0,type:"error"})}).finally(()=>{s.value=!1,n.value=!1,u.value="submit"})};return h(()=>{console.log(s.value,"asd"),s.value==!1&&(console.log("123"),n.value=!(l.value.length!=0&&t.value.length!=0))}),(o,i)=>{const c=p("el-input"),g=p("el-button");return V(),b("div",x,[e("div",B,[e("div",C,[e("div",E,[I,e("section",null,[e("div",N,[r(c,{modelValue:l.value,"onUpdate:modelValue":i[0]||(i[0]=d=>l.value=d),placeholder:"username"},null,8,["modelValue"])]),e("div",U,[r(c,{modelValue:t.value,"onUpdate:modelValue":i[1]||(i[1]=d=>t.value=d),placeholder:"password",type:"password"},null,8,["modelValue"])]),e("div",F,[r(g,{disabled:n.value,loading:s.value,type:"success",onClick:_},{default:w(()=>[y(k(u.value),1)]),_:1},8,["disabled","loading"])])])])])])])}}});export{P as default};
